---
title: "State of the Union Sentiment Anylasis and Economic Data"
author: "Julie Norman"
output: html_notebook
---

## Introduction 


## Preliminaries 

```{r}
library(tidytext)
library(tidyverse)
library(sotu)
library(readr)
```

##Export 

We are exporting sotu_meta to add the variables age, etc. to the data frame.

```{r}
write.csv(sotu_meta, file = "DFExport.csv")

sotu_clean_df <-read.csv("~/Documents/Research/SOU_Sentiment/DFImport.csv")

```



```{r}
sotu_df <- sotu_clean_df %>%
  mutate(text = sotu_text)

str(sotu_df)
```

# Data Edit

## Add Row 
- Add Line to include Richard Nixon's 1973 address.
```{r}
addrow_1973 <- data.frame(year = "1973",
                          elect_date = "",
                          sou_date = "1973-02-02",
                          sotu_type = "written",
                          president = "Richard M. Nixon",
                          birth_date = "1913-01-09",
                          birth_state = "California",
                          death_state = "New York",
                          affil_region = "Pacific",
                          party = "Republican",
                          relative_ideology = "Conservative",
                          years_active = "1973-1974", 
                          year_num = "4",
                          term_num = "1",
                          term_type = "Midterm",
                          decl_war = "Peace",
                          va_wars = "War",
                          text = read_file("~/Documents/Research/SOU_Sentiment/Nixon_73.txt"))

sotu_df <- rbind(sotu_df, addrow_1973)

NROW(sotu_df)

```

- In 1956 Dwight D. Eisenhower gave two versions of the State of the Union. One that was recorded and broadcast to the public, the other was an address given to a joint session of Congress. The latter speech will be used for the general analysis since the congression address is considered the "official" State of the Union and will be a more accurate representation in our analysis. 
```{r}
sotu_df <- sotu_df %>% 
  filter(!(year == 1956 & sotu_type == "speech"))
NROW(sotu_df)
  
```

- In 1972 Richard Nixon gave two versions of the State of the Union. One that was recorded and broadcast to the public, the other was an address given to a joint session of Congress. The latter speech will be used for the general analysis since the congression address is considered the "official" State of the Union and will be a more accurate representation in our analysis. 
```{r}
sotu_df <- sotu_df %>% 
  filter(!(year == 1972 & sotu_type == "written"))
NROW(sotu_df)
  
```

- In 1974 Richard Nixon gave two versions of the State of the Union. One that was recorded and broadcast to the public, the other was an address given to a joint session of Congress. The latter speech will be used for the general analysis since the congression address is considered the "official" State of the Union and will be a more accurate representation in our analysis. 

```{r}
sotu_df <- sotu_df %>% 
  filter(!(year == 1974 & sotu_type == "written"))
NROW(sotu_df)
  
```

- It is unknown why there are two address listed in 1979. According to the Gutenberg library and the American Presidency Project the  actual state of the union is one of the two. That is the one we'll use for our analysis. 
```{r}
sotu_df <- sotu_df %>% 
  filter(!(year == 1979 & sotu_type == "written"))
NROW(sotu_df)
  
```
- Add speech text to Theodore Roosevelt 1904. Speech Source will be the Gutenberg Library text. 

```{r}
sotu_df["116", "text"] = read_file("~/Documents/Research/SOU_Sentiment/TR_04.txt")

as.character(sotu_df[116, 18])
```


- Add speech text to Ronald Regan 1982. Speech Source will be the Gutenberg Library text. 

```{r}
sotu_df["198", "text"] = read_file("~/Documents/Research/SOU_Sentiment/Reagan_82.txt")

as.character(sotu_df[198, 18])
```

- Add speech text to George W. Bush 2003. Speech source will be the Gutenberg Library text. 

```{r}
sotu_df["219", "text"] = read_file("~/Documents/Research/SOU_Sentiment/WBush_03.txt")

as.character(sotu_df[219, 18])
```

- Add speech text to Barack Obama 2011. Speech Source speech will be the Gutenberg Library text. 

```{r}
sotu_df["227", "text"] = read_file("~/Documents/Research/SOU_Sentiment/Obama_11.txt")

as.character(sotu_df[227, 18])
```

- Add speech text to Barack Obama 2016. Speech source will be the Gutenberg Library text. 

```{r}
sotu_df["232", "text"] = read_file("~/Documents/Research/SOU_Sentiment/Obama_11.txt")

as.character(sotu_df[232, 18])
```

## Test for Uniqueness 
```{r}
ColumnGrab <- sotu_df %>% 
  select(president, year, sotu_type) %>%
  duplicated()
```

## View Speech Text 
```{r}
as.character(sotu_df[1, 6])
```











